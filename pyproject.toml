# pyproject.toml

# Note: Many fields are autogenerated by 'WIPACrepo/wipac-dev-py-setup-action'.
#       See this repo's GitHub Actions workflow(s) (.github/workflows/*.yaml)
#       and https://github.com/WIPACrepo/wipac-dev-py-setup-action for details.

[project]
dependencies = [
    'cachetools',
    'motor',
    'tornado',
    'unidecode',
    'wipac-dev-tools',
    'wipac-keycloak-rest-services',
    'wipac-rest-tools',
]
dynamic = ["version"] # do not edit — autogenerated by wipac-dev-py-setup-action
name = "user-mgmt" # do not edit — autogenerated by wipac-dev-py-setup-action
requires-python = ">=3.9, <3.14" # do not edit — autogenerated by wipac-dev-py-setup-action

[project.optional-dependencies]
tests = [
    'coverage',
    'flake8',
    'pytest',
    'pytest-asyncio',
    'pytest-cov',
    'pytest-mock',
]

[tool.coverage.run]
branch = true
source = "user_mgmt"

[tool.coverage.report]
# regexes for lines to exclude from consideration
exclude_also = [
# Don't complain about missing debug-only code:
    "def __repr__",
    "if self\\.debug",

# Don't complain if tests don't hit defensive assertion code:
    "raise AssertionError",
    "raise NotImplementedError",

# Don't complain if non-runnable code isn't run:
    "if 0:",
    "if __name__ == .__main__.:",

# Don't complain about abstract methods, they aren't run:
    "@(abc\\.)?abstractmethod",
    ]
ignore_errors = true
skip_empty = true

[tool.coverage.html]
directory = "htmlcov"

[tool.pytest.ini_options]
asyncio_mode = "auto"

[tool.setuptools]
packages = [
    'user_mgmt',
] # do not edit — autogenerated by wipac-dev-py-setup-action

[tool.setuptools.package-data]
"*" = ["py.typed"] # do not edit — autogenerated by wipac-dev-py-setup-action

[tool.setuptools_scm] # do not edit — autogenerated by wipac-dev-py-setup-action
fallback_version = "CANNOT_BUILD_WITHOUT_GIT_DIR" # used when SCM metadata is missing (no '.git/') — if '.git/' exists but does not contain tags, a commit-based version (like '0.1.dev1+g79c9b4b') will be used instead.

[build-system] # do not edit — autogenerated by wipac-dev-py-setup-action
requires = ["setuptools>=78.1", "setuptools-scm"]
build-backend = "setuptools.build_meta"
